<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <!-- Thêm Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Thêm vào sau Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="shortcut icon" href="images/logo.png" type="image/x-icon">
    <title>Du Lịch Sinh Thái Bến Tre</title>

</head>

<body>
    <header class="header">
        <nav class="nav">
            <div class="nav-brand">
                <a href="index.html" class="logo">Du Lịch Bến Tre</a>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Giới Thiệu</a></li>
                <li><a href="tours.html">Tours Bến Tre</a></li>
                <li><a href="ban-do.html">Bản Đồ</a></li>
                <li><a href="lich-khoi-hanh.html">Lịch Khởi Hành</a></li>
            </ul>
        </nav>
    </header>

    <!-- Thêm carousel -->
    <div id="bannerCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#bannerCarousel" data-bs-slide-to="0" class="active"></button>
            <button type="button" data-bs-target="#bannerCarousel" data-bs-slide-to="1"></button>
            <button type="button" data-bs-target="#bannerCarousel" data-bs-slide-to="2"></button>
        </div>


        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="images/img1.jpg" class="d-block w-100" alt="Du lịch Bến Tre">
                <div class="carousel-caption">
                    <h3>Du Lịch Sinh Thái Bến Tre</h3>
                    <p>Khám phá vẻ đẹp miệt vườn sông nước</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="images/img2.jpg" class="d-block w-100" alt="Du lịch Bến Tre">
                <div class="carousel-caption">
                    <h3>Vườn Trái Cây</h3>
                    <p>Trải nghiệm hái trái cây tại vườn</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="images/img3.jpg" class="d-block w-100" alt="Du lịch Bến Tre">
                <div class="carousel-caption">
                    <h3>Làng Nghề Truyền Thống</h3>
                    <p>Khám phá nghề thủ công mỹ nghệ</p>
                </div>
            </div>
        </div>

        <button class="carousel-control-prev" type="button" data-bs-target="#bannerCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#bannerCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
    </div>

    <!-- Sau phần carousel -->
    <section class="intro-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6 mb-4 mb-lg-0" data-aos="fade-right">
                    <div class="intro-content">
                        <h2 class="section-title">Khám Phá Bến Tre</h2>
                        <p class="intro-text">
                            Bến Tre - vùng đất được mệnh danh là "xứ dừa" với những con sông hiền hòa, những vườn trái
                            cây
                            sum suê và những làng nghề truyền thống đặc sắc. Nơi đây không chỉ nổi tiếng với những khu
                            du
                            lịch sinh thái độc đáo mà còn được biết đến với nền ẩm thực phong phú và người dân hiền hòa,
                            mến khách.
                        </p>
                        <div class="intro-features">
                            <div class="feature-item">
                                <i class="fas fa-leaf"></i>
                                <span>Thiên nhiên trong lành</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-utensils"></i>
                                <span>Ẩm thực đặc sắc</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-home"></i>
                                <span>Homestay độc đáo</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6" data-aos="fade-left">
                    <div class="video-container">
                        <iframe width="100%" height="315"
                            src="https://www.youtube.com/embed/GsjY2sQa-xc?si=TXPUk4Ftei2MX_Hd"
                            title="YouTube video player" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                            allowfullscreen>
                        </iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Thêm section Tours -->
    <section class="tours-section">
        <div class="container">
            <h2 class="section-title text-center" data-aos="fade-up">Tours Du Lịch Nổi Bật</h2>
            <div class="row g-4">
                <!-- Tour 1 -->
                <div class="col-md-6 col-lg-4" data-aos="fade-up">
                    <div class="tour-card">
                        <div class="tour-image">
                            <img src="images/img6.jpg" alt="Tour Cồn Phụng">
                            <div class="tour-price">1,290,000đ</div>
                        </div>
                        <div class="tour-content">
                            <h3>Tour Cồn Phụng 1 Ngày</h3>
                            <div class="tour-info">
                                <p><i class="fas fa-clock"></i> Thời gian: 1 ngày</p>

                                <p><i class="fas fa-calendar-alt"></i> Khởi hành: Hàng ngày</p>
                            </div>
                            <p class="tour-description">
                                Khám phá Cồn Phụng, thưởng thức đặc sản địa phương và trải nghiệm văn hóa miệt vườn độc
                                đáo.
                            </p>
                            <button class="btn-tour" data-bs-toggle="modal" data-bs-target="#tourModal1">
                                Xem chi tiết
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Tour 2 -->
                <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="100">
                    <div class="tour-card">
                        <div class="tour-image">
                            <img src="images/img5.jpg" alt="Tour Làng Nghề">
                            <div class="tour-price">1,590,000đ</div>
                        </div>
                        <div class="tour-content">
                            <h3>Tour Làng Nghề Truyền Thống</h3>
                            <div class="tour-info">
                                <p><i class="fas fa-clock"></i> Thời gian: 2 ngày 1 đêm</p>

                                <p><i class="fas fa-calendar-alt"></i> Khởi hành: T2, T4, T6</p>
                            </div>
                            <p class="tour-description">
                                Tham quan các làng nghề truyền thống, học làm kẹo dừa và đan lát thủ công.
                            </p>
                            <button class="btn-tour" data-bs-toggle="modal" data-bs-target="#tourModal2">
                                Xem chi tiết
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Tour 3 -->
                <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="200">
                    <div class="tour-card">
                        <div class="tour-image">
                            <img src="images/img4.jpg" alt="Tour Sông Nước">
                            <div class="tour-price">2,190,000đ</div>
                        </div>
                        <div class="tour-content">
                            <h3>Tour Sông Nước Miệt Vườn</h3>
                            <div class="tour-info">
                                <p><i class="fas fa-clock"></i> Thời gian: 3 ngày 2 đêm</p>

                                <p><i class="fas fa-calendar-alt"></i> Khởi hành: T7, CN</p>
                            </div>
                            <p class="tour-description">
                                Trải nghiệm homestay, chèo thuyền trên sông và thưởng thức ẩm thực đặc sắc.
                            </p>
                            <button class="btn-tour" data-bs-toggle="modal" data-bs-target="#tourModal3">
                                Xem chi tiết
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Thêm Bootstrap JS và Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

    <script>
        const hamburger = document.querySelector('.hamburger');
        const navLinks = document.querySelector('.nav-links');

        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            navLinks.classList.toggle('active');
        });

        // Đóng menu khi click vào link
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                hamburger.classList.remove('active');
                navLinks.classList.remove('active');
            });
        });
    </script>

    <!-- Thêm trước đóng body -->
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        AOS.init({
            duration: 1000,
            once: true
        });
    </script>

    <!-- Thêm vào trước </body> -->
    <div class="cart-icon">
        <a href="cart.html" class="cart-button">
            <i class="fas fa-shopping-cart"></i>
            <span class="cart-count">0</span>
        </a>
    </div>

    <!-- Modal Tour 1 -->
    <div class="modal fade" id="tourModal1" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Tour Cồn Phụng 1 Ngày</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <img src="images/img6.jpg" alt="Tour Cồn Phụng" class="img-fluid rounded">
                            <div class="tour-highlights mt-3">
                                <h6>Điểm nổi bật:</h6>
                                <ul>
                                    <li>Khám phá Cồn Phụng</li>
                                    <li>Trải nghiệm văn hóa địa phương</li>
                                    <li>Thưởng thức đặc sản</li>
                                    <li>Chèo thuyền trên sông</li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="booking-form">
                                <div class="price-tag mb-3">
                                    <span class="amount">1,290,000đ</span>
                                    <span class="per-person">/ người</span>
                                </div>
                                <form id="bookingForm1">
                                    <div class="mb-3">
                                        <label class="form-label">Số người</label>
                                        <div class="input-group">
                                            <button type="button" class="btn btn-outline-secondary"
                                                onclick="decreaseValue('personCount1')">-</button>
                                            <input type="number" class="form-control text-center" id="personCount1"
                                                value="1" min="1">
                                            <button type="button" class="btn btn-outline-secondary"
                                                onclick="increaseValue('personCount1')">+</button>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Ngày khởi hành</label>
                                        <input type="date" class="form-control" id="tourDate1" required>
                                    </div>
                                    <div class="total-price mb-3">
                                        <span>Tổng tiền:</span>
                                        <span class="total-amount" id="totalAmount1">1,290,000đ</span>
                                    </div>
                                    <button type="button" class="btn btn-success w-100" onclick="addToCart(1)">
                                        Thêm vào giỏ hàng
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Tour 2 -->
    <div class="modal fade" id="tourModal2" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Tour Làng Nghề Truyền Thống</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <img src="images/img5.jpg" alt="Tour Làng Nghề" class="img-fluid rounded">
                            <div class="tour-highlights mt-3">
                                <h6>Điểm nổi bật:</h6>
                                <ul>
                                    <li>Tham quan làng nghề truyền thống</li>
                                    <li>Học làm kẹo dừa</li>
                                    <li>Trải nghiệm đan lát thủ công</li>
                                    <li>Thưởng thức đặc sản địa phương</li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="booking-form">
                                <div class="price-tag mb-3">
                                    <span class="amount">1,590,000đ</span>
                                    <span class="per-person">/ người</span>
                                </div>
                                <form id="bookingForm2">
                                    <div class="mb-3">
                                        <label class="form-label">Số người</label>
                                        <div class="input-group">
                                            <button type="button" class="btn btn-outline-secondary"
                                                onclick="decreaseValue('personCount2')">-</button>
                                            <input type="number" class="form-control text-center" id="personCount2"
                                                value="1" min="1">
                                            <button type="button" class="btn btn-outline-secondary"
                                                onclick="increaseValue('personCount2')">+</button>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Ngày khởi hành</label>
                                        <input type="date" class="form-control" id="tourDate2" required>
                                    </div>
                                    <div class="total-price mb-3">
                                        <span>Tổng tiền:</span>
                                        <span class="total-amount" id="totalAmount2">1,590,000đ</span>
                                    </div>
                                    <button type="button" class="btn btn-success w-100" onclick="addToCart(2)">
                                        Thêm vào giỏ hàng
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Tour 3 -->
    <div class="modal fade" id="tourModal3" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Tour Sông Nước Miệt Vườn</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <img src="images/img4.jpg" alt="Tour Sông Nước" class="img-fluid rounded">
                            <div class="tour-highlights mt-3">
                                <h6>Điểm nổi bật:</h6>
                                <ul>
                                    <li>Trải nghiệm homestay</li>
                                    <li>Chèo thuyền trên sông</li>
                                    <li>Thưởng thức ẩm thực đặc sắc</li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="booking-form">
                                <div class="price-tag mb-3">
                                    <span class="amount">2,190,000đ</span>
                                    <span class="per-person">/ người</span>
                                </div>
                                <form id="bookingForm3">
                                    <div class="mb-3">
                                        <label class="form-label">Số người</label>
                                        <div class="input-group">
                                            <button type="button" class="btn btn-outline-secondary"
                                                onclick="decreaseValue('personCount3')">-</button>
                                            <input type="number" class="form-control text-center" id="personCount3"
                                                value="1" min="1">
                                            <button type="button" class="btn btn-outline-secondary"
                                                onclick="increaseValue('personCount3')">+</button>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Ngày khởi hành</label>
                                        <input type="date" class="form-control" id="tourDate3" required>
                                    </div>
                                    <div class="total-price mb-3">
                                        <span>Tổng tiền:</span>
                                        <span class="total-amount" id="totalAmount3">2,190,000đ</span>
                                    </div>
                                    <button type="button" class="btn btn-success w-100" onclick="addToCart(3)">
                                        Thêm vào giỏ hàng
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Thêm script xử lý -->
    <script>
        // Thêm vào đầu phần script
        const tourPrices = {
            1: 1290000,  // Giá tour 1
            2: 1590000,  // Giá tour 2
            3: 2190000   // Giá tour 3
        };

        function formatCurrency(amount) {
            return new Intl.NumberFormat('vi-VN').format(amount) + 'đ';
        }

        function increaseValue(id) {
            const input = document.getElementById(id);
            const currentValue = parseInt(input.value);
            input.value = currentValue + 1;
            updateTotalPrice(id);
        }

        function decreaseValue(id) {
            const input = document.getElementById(id);
            const currentValue = parseInt(input.value);
            if (currentValue > parseInt(input.min)) {
                input.value = currentValue - 1;
                updateTotalPrice(id);
            }
        }

        function updateTotalPrice(id) {
            const tourId = id.replace('personCount', '');
            const personCount = document.getElementById(id).value;
            const basePrice = 1290000; // Giá cơ bản cho tour 1
            const total = basePrice * personCount;
            document.getElementById('totalAmount' + tourId).textContent = formatCurrency(total);
        }

        function addToCart(tourId) {
            const personCount = document.getElementById('personCount' + tourId).value;
            const tourDate = document.getElementById('tourDate' + tourId).value;

            if (!tourDate) {
                alert('Vui lòng chọn ngày khởi hành!');
                return;
            }

            // Lấy thông tin tour
            const tourInfo = {
                id: tourId,
                name: document.querySelector(`#tourModal${tourId} .modal-title`).textContent,
                price: tourPrices[tourId],
                quantity: parseInt(personCount),
                date: tourDate,
                total: tourPrices[tourId] * parseInt(personCount),
                image: document.querySelector(`#tourModal${tourId} .modal-body img`).src
            };

            // Lưu vào localStorage
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.push(tourInfo);
            localStorage.setItem('cart', JSON.stringify(cart));

            // Cập nhật số lượng trong giỏ hàng
            const cartCount = document.querySelector('.cart-count');
            cartCount.textContent = cart.length;

            // Đóng modal và xóa overlay
            const modalElement = document.getElementById('tourModal' + tourId);
            const modal = bootstrap.Modal.getInstance(modalElement);
            modal.hide();

            // Thêm timeout để đảm bảo modal đã đóng hoàn toàn
            setTimeout(() => {
                document.body.classList.remove('modal-open');
                const modalBackdrop = document.querySelector('.modal-backdrop');
                if (modalBackdrop) {
                    modalBackdrop.remove();
                }
            }, 200);

            // Hiển thị thông báo thành công
            alert('Đã thêm tour vào giỏ hàng!');
        }

        // Thêm event listener cho các input số người
        document.querySelectorAll('[id^="personCount"]').forEach(input => {
            input.addEventListener('change', function () {
                updateTotalPrice(this.id);
            });
        });

        // Khởi tạo số lượng giỏ hàng khi tải trang
        window.addEventListener('load', function () {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            document.querySelector('.cart-count').textContent = cart.length;
        });

        // Thêm vào cuối phần script
        document.addEventListener('DOMContentLoaded', function () {
            // Xử lý sự kiện khi modal bị ẩn
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                modal.addEventListener('hidden.bs.modal', function () {
                    document.body.classList.remove('modal-open');
                    const modalBackdrop = document.querySelector('.modal-backdrop');
                    if (modalBackdrop) {
                        modalBackdrop.remove();
                    }
                });
            });
        });
    </script>

    <!-- Thêm vào trước </body> -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h5 class="footer-heading">Du Lịch Bến Tre</h5>
                    <p class="footer-text">
                        Khám phá vẻ đẹp miệt vườn sông nước, trải nghiệm văn hóa độc đáo và ẩm thực đặc sắc của xứ dừa
                        Bến Tre.
                    </p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <h5 class="footer-heading">Liên Hệ</h5>
                    <ul class="footer-contact">
                        <li><i class="fas fa-map-marker-alt"></i> Ấp An Nhơn, Xã Vĩnh An, Huyện Ba Tri, Tỉnh Bến Tre
                        </li>
                        <li><i class="fas fa-phone"></i> 0845016059</li>
                        <li><i class="fas fa-envelope"></i> tuankietdo0804@gmail.com</li>
                        <li><i class="fas fa-clock"></i> 08:00 - 17:00 (T2-CN)</li>
                    </ul>
                </div>
                <div class="col-md-4 mb-4">
                    <h5 class="footer-heading">Đăng Ký Nhận Tin</h5>
                    <p class="footer-text">Nhận thông tin về tour mới và ưu đãi đặc biệt</p>
                    <form class="footer-form">
                        <div class="input-group">
                            <input type="email" class="form-control" placeholder="Email của bạn">
                            <button class="btn btn-success" type="submit">Đăng ký</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <p class="copyright">© 2024 Du Lịch Bến Tre. All rights reserved.</p>
                    </div>
                    <div class="col-md-6">
                        <ul class="footer-links">
                            <li><a href="#">Điều khoản sử dụng</a></li>
                            <li><a href="#">Chính sách bảo mật</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </footer>
</body>

</html>